<section *ngIf="weightState.isReady">
  <div class="chart-wrapper">
    <div
      role="img"
      class="chart"
      echarts
      [options]="chartOptions"
      [initOpts]="initOpts"
    ></div>
  </div>
  <article>
    <h2 app-text>Weight</h2>
    <p app-heading large>
      {{ todayWeight?.weight | measurementWithUnit : "kg" }}
    </p>
    <p
      app-text
      [app-text-type]="diff?.weight | percentageDiffColor : 'inverse'"
    >
      {{ diff?.weight | percentageDiff }}
    </p>
  </article>
  <article>
    <h2 app-text>Body fat</h2>
    <p app-heading large>
      {{ todayWeight?.fatMassWeight | measurementWithUnit : "kg" }}
    </p>
    <p
      app-text
      [app-text-type]="diff?.fatMassWeight | percentageDiffColor : 'inverse'"
    >
      {{ diff?.fatMassWeight | percentageDiff }}
    </p>
  </article>
  <article>
    <h2 app-text>Fat ratio</h2>
    <p app-heading large>
      {{ todayWeight?.fatRatio | measurementWithUnit : "%" }}
    </p>
    <p
      app-text
      [app-text-type]="diff?.fatRatio | percentageDiffColor : 'inverse'"
    >
      {{ diff?.fatRatio | percentageDiff }}
    </p>
  </article>
</section>

<div
  role="alert"
  aria-busy="true"
  app-loader
  *ngIf="weightState.isLoading"
></div>
