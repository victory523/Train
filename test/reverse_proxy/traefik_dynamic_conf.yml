http:
  routers:
    client:
      entryPoints:
        - web
      service: client
      rule: PathPrefix(`/`)
    servers:
      entryPoints:
        - web
      middlewares:
        - authHeaders
      service: server
      rule: PathPrefix(`/api`)
    mock-backup-tool:
      entryPoints:
        - web
      service: mock-backup-tool
      rule: Path(`/db/last-backup-time`)
    mock-withings:
      entryPoints:
        - web
      service: mock-withings
      rule: PathPrefix(`/withings`)
    mock-strava:
      entryPoints:
        - web
      service: mock-strava
      rule: PathPrefix(`/strava`)

  middlewares:
    authHeaders:
      headers:
        customRequestHeaders:
          Remote-User: rob
          Remote-Groups: user
          Remote-Name: Robert White
          Remote-Email: robert.white@mockemail.com

  services:
    client:
      loadBalancer:
        servers:
          - url: http://client:80
    server:
      loadBalancer:
        servers:
          - url: http://server:8080
    mock-backup-tool:
      loadBalancer:
        servers:
          - url: http://mock-backup-tool:8080
    mock-withings:
      loadBalancer:
        servers:
          - url: http://mock-withings:8080
    mock-strava:
      loadBalancer:
        servers:
          - url: http://mock-strava:8080
